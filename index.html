<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Meri Websites List</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    /* ----------- Desktop Styles ----------- */
    body {
      font-family: 'Segoe UI', Arial, sans-serif;
      background: linear-gradient(135deg, #4F8CFF 0%, #A46BFF 100%);
      color: #222;
      margin: 0;
      min-height: 100vh;
    }

    .hamburger {
      position: fixed;
      top: 18px;
      left: 18px;
      z-index: 2002;
      width: 44px;
      height: 44px;
      background: #fff;
      border-radius: 12px;
      box-shadow: 0 2px 14px rgba(80, 72, 229, 0.10);
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: background 0.22s;
      border: none;
    }

    .hamburger:hover {
      background: #f7f7ff;
    }

    .hamburger-lines {
      width: 26px;
      height: 20px;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }

    .hamburger-line {
      height: 4px;
      width: 100%;
      background: #4F8CFF;
      border-radius: 2px;
      transition: all 0.25s;
    }

    .menu-backdrop {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(48, 54, 85, 0.19);
      z-index: 2500;
      transition: background 0.2s;
    }

    .menu-backdrop.active {
      display: block;
    }

    .side-drawer {
      position: fixed;
      top: 0;
      left: -280px;
      width: 260px;
      max-width: 94vw;
      height: 100vh;
      background: #fff;
      box-shadow: 3px 0 22px #8883;
      z-index: 2501;
      padding: 0;
      display: flex;
      flex-direction: column;
      transition: left 0.33s cubic-bezier(.7, .3, .3, 1.1);
    }

    .side-drawer.active {
      left: 0;
    }

    .drawer-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 22px 16px 12px 22px;
      border-bottom: 1px solid #f0f0fa;
      min-height: 62px;
    }

    .drawer-title {
      font-size: 1.18rem;
      font-weight: 600;
      color: #365cff;
      letter-spacing: 0.2px;
    }

    .drawer-close {
      background: none;
      border: none;
      font-size: 2rem;
      color: #888;
      cursor: pointer;
      line-height: 1;
      padding: 2px 3px;
      border-radius: 50%;
      transition: background 0.13s;
    }

    .drawer-close:hover {
      background: #f5f7ff;
    }

    .drawer-content {
      flex: 1 1 auto;
      overflow-y: auto;
      padding: 16px 0 0 0;
    }

    .drawer-section {
      margin-bottom: 20px;
    }

    /* ==== NEW: Drawer Section Separation for Check Index ==== */
    .drawer-section--check-index {
      border-bottom: 1.5px solid #f0f0fa;
      margin-bottom: 22px;
      padding-bottom: 12px;
      margin-top: 8px;
    }

    .drawer-section--search-toggles {
      margin-bottom: 18px;
    }

    @media(max-width: 600px) {
      .drawer-section--check-index {
        margin-bottom: 16px;
        padding-bottom: 7px;
        margin-top: 2px;
      }
    }

    /* ==== END NEW ==== */

    .drawer-toggles {
      display: flex;
      flex-direction: column;
      gap: 10px;
      /* margin-bottom: 18px; */
      margin-left: 18px;
    }

    .drawer-toggle-label {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 0;
      padding-right: 10px;
      font-size: 1.06rem;
      color: #2A3C6B;
      font-weight: 500;
      cursor: pointer;
      user-select: none;
    }

    .drawer-toggle-label span:first-child {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .drawer-icon {
      width: 20px;
      height: 20px;
      vertical-align: middle;
      margin-right: 4px;
    }

    .drawer-switch {
      position: relative;
      width: 38px;
      height: 20px;
      display: inline-block;
      margin-left: 18px;
    }

    .drawer-switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }

    .drawer-slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: #c4d1fa;
      transition: background 0.26s;
      border-radius: 16px;
    }

    .drawer-slider:before {
      position: absolute;
      content: "";
      height: 16px;
      width: 16px;
      left: 2px;
      bottom: 2px;
      background-color: #fff;
      transition: transform 0.22s cubic-bezier(.55, 0, .1, 1);
      border-radius: 50%;
      box-shadow: 0 1px 2px #b3b3b355;
    }

    .drawer-switch input:checked+.drawer-slider {
      background-color: #4F8CFF;
    }

    .drawer-switch input:checked+.drawer-slider:before {
      transform: translateX(18px);
    }

    .drawer-menu-items {
      display: flex;
      flex-direction: column;
      margin: 6px 0 0 0;
    }

    .drawer-menu-item {
      font-size: 1.09rem;
      padding: 13px 24px 13px 36px;
      color: #365cff;
      background: none;
      border: none;
      outline: none;
      text-align: left;
      cursor: pointer;
      border-radius: 6px;
      transition: background 0.16s, color 0.18s;
      margin: 3px 0;
    }

    .drawer-menu-item:hover {
      background: #f6f8ff;
      color: #1a5cff;
    }

    /* ----------- Mobile Styles ----------- */
    @media(max-width: 900px) {
      .side-drawer {
        width: 80vw;
        max-width: 96vw;
      }
    }

    @media(max-width: 600px) {
      .hamburger {
        top: 6px;
        left: 6px;
        width: 38px;
        height: 38px;
      }

      .side-drawer {
        width: 98vw;
        left: -100vw;
        min-width: 110px;
        box-shadow: 1px 0 12px #8883;
      }

      .side-drawer.active {
        left: 0;
      }

      .drawer-header {
        padding: 10px 8px 6px 12px;
        min-height: 46px;
      }

      .drawer-title {
        font-size: 1rem;
      }

      .drawer-toggles {
        margin-left: 8px;
      }

      .drawer-toggle-label {
        font-size: 0.97rem;
        padding-right: 4px;
      }

      .drawer-icon {
        width: 16px;
        height: 16px;
      }

      .drawer-switch {
        width: 32px;
        height: 18px;
        margin-left: 8px;
      }

      .drawer-slider:before {
        height: 13px;
        width: 13px;
      }

      .drawer-menu-item {
        font-size: 1rem;
        padding: 10px 10px 10px 18px;
      }
    }

    /* ----------- Rest styles unchanged ----------- */
    .container {
      max-width: 500px;
      width: 94%;
      margin: 40px auto;
      background: #fff;
      border-radius: 18px;
      box-shadow: 0 8px 40px rgba(80, 72, 229, 0.18), 0 1.5px 10px rgba(80, 72, 229, 0.08);
      padding: 34px 20px 22px;
      position: relative;
    }

    .sticky-header {
      position: sticky;
      top: 0;
      z-index: 100;
      background: #fff;
      padding-top: 8px;
      padding-bottom: 8px;
      border-radius: 18px 18px 0 0;
      box-shadow: 0 2px 14px rgba(80, 72, 229, 0.04);
    }

    h2 {
      text-align: center;
      color: #1a5cff;
      font-size: 1.7rem;
      margin: 0 0 10px 0;
      padding: 0;
      background: transparent;
      font-weight: 600;
      letter-spacing: 0.5px;
    }

    .under-building-title {
      color: #ff9800;
      margin-top: 28px;
      font-size: 1.22rem;
      text-align: center;
      letter-spacing: 0.2px;
    }

    .toggle-row {
      display: flex;
      justify-content: center;
      align-items: center;
      margin-bottom: 10px;
    }

    .toggle-label {
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 1rem;
      user-select: none;
      cursor: pointer;
      color: #365cff;
      background: #f5f7ff;
      border-radius: 8px;
      padding: 5px 14px 5px 8px;
      box-shadow: 0 1px 4px rgba(80, 72, 229, 0.05);
      transition: background 0.18s;
    }

    .switch {
      position: relative;
      width: 44px;
      height: 24px;
      display: inline-block;
    }

    .switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }

    .slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: #c4d1fa;
      transition: background 0.26s;
      border-radius: 24px;
    }

    .slider:before {
      position: absolute;
      content: "";
      height: 20px;
      width: 20px;
      left: 2px;
      bottom: 2px;
      background-color: #fff;
      transition: transform 0.24s cubic-bezier(.55, 0, .1, 1);
      border-radius: 50%;
      box-shadow: 0 1px 3px #b3b3b355;
    }

    .switch input:checked+.slider {
      background-color: #4F8CFF;
    }

    .switch input:checked+.slider:before {
      transform: translateX(20px);
      background-color: #fff;
    }

    .toggle-text {
      font-weight: 500;
      color: #2A3C6B;
      letter-spacing: 0.3px;
    }

    ul.site-list {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    li.site-item {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 13px 0;
      border-bottom: 1px solid #eee;
      gap: 8px;
      flex-wrap: wrap;
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
    }

    li.site-item:last-child {
      border-bottom: none;
    }

    .site-url-box {
      display: flex;
      align-items: center;
      gap: 8px;
      min-width: 0;
      flex: 1 1 60%;
    }

    .site-favicon {
      width: 20px;
      height: 20px;
      border-radius: 4px;
      background: #eee;
      flex-shrink: 0;
      object-fit: contain;
      cursor: pointer;
      transition: box-shadow .2s;
    }

    .site-favicon:hover {
      box-shadow: 0 2px 12px #aaa;
    }

    .site-url {
      font-size: 1rem;
      color: #333;
      word-break: break-all;
      background: #f7f7ff;
      padding: 5px 12px;
      border-radius: 8px;
      box-shadow: 0 1px 4px rgba(80, 72, 229, 0.05);
      min-width: 0;
      flex: 1 1 auto;
    }

    .copy-btn {
      background: none;
      border: none;
      cursor: pointer;
      outline: none;
      margin-left: 8px;
      font-size: 1.5em;
      color: #4A90E2;
      display: flex;
      align-items: center;
      border-radius: 50%;
      padding: 6px;
      transition: background 0.2s, color 0.2s;
      box-shadow: 0 1px 4px rgba(80, 72, 229, 0.07);
      background: #f5f7ff;
      min-width: 40px;
      min-height: 40px;
      justify-content: center;
    }

    .copy-btn:active,
    .copy-btn.copied {
      color: #32c671;
      background: #e8f5e9;
    }

    .copy-btn.copied .material-symbols-outlined {
      color: #32c671;
    }

    .copy-btn.copied {
      box-shadow: 0 0 0 2px #32c67177, 0 1px 4px rgba(80, 72, 229, 0.07);
      border: 1.5px solid #32c671bb;
    }

    .copy-btn.dev-copied {
      color: #ff8c00 !important;
      background: #fff5e1 !important;
      border: 1.5px solid #ff8c00bb !important;
      box-shadow: 0 0 0 2px #ffad3b55, 0 1px 4px rgba(80, 72, 229, 0.07);
    }

    .copy-btn.dev-copied .material-symbols-outlined {
      color: #ff8c00 !important;
    }

    .material-symbols-outlined {
      font-size: 1.2em;
    }

    .modal-backdrop {
      display: none;
      position: fixed;
      z-index: 1000;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0, 0, 0, 0.32);
    }

    .modal-backdrop.active {
      display: block;
    }

    .modal-img-box {
      display: none;
      position: fixed;
      z-index: 1001;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: #fff;
      border-radius: 16px;
      box-shadow: 0 8px 40px rgba(80, 72, 229, 0.18);
      padding: 24px 18px 14px;
      min-width: 150px;
      min-height: 50px;
      flex-direction: column;
      align-items: center;
      max-width: 94vw;
    }

    .modal-img-box.active {
      display: flex;
    }

    .big-favicon {
      width: 180px;
      height: 180px;
      border-radius: 16px;
      margin-bottom: 10px;
      background: #f7f7ff;
      object-fit: contain;
      box-shadow: 0 1.5px 6px #8882;
      max-width: 86vw;
      max-height: 86vw;
    }

    .modal-url {
      font-size: 0.97rem;
      color: #444;
      word-break: break-all;
      text-align: center;
    }

    .modal-close {
      position: absolute;
      top: 7px;
      right: 10px;
      background: none;
      border: none;
      font-size: 1.7rem;
      color: #888;
      cursor: pointer;
      line-height: 1;
    }

    @media(max-width:600px) {
      .container {
        max-width: 99vw;
        width: 99vw;
        margin: 12px auto;
        padding: 18px 4vw 12px;
      }

      .sticky-header {
        padding-top: 2px;
        padding-bottom: 2px;
      }

      h2 {
        font-size: 1.3rem;
      }

      .site-url {
        font-size: 0.97rem;
      }

      .copy-btn {
        font-size: 1.3em;
        min-width: 34px;
        min-height: 34px;
        padding: 4px;
      }

      li.site-item {
        padding: 9px 0;
      }

      .site-favicon {
        width: 16px;
        height: 16px;
      }

      .big-favicon {
        width: 90vw !important;
        height: 90vw !important;
        max-width: 90vw !important;
        max-height: 90vw !important;
        min-width: 120px;
        min-height: 120px;
      }

      .modal-img-box {
        padding: 12px 2vw 7px;
      }

      .toggle-label {
        font-size: 0.93rem;
        padding: 5px 7px 5px 4px;
      }

      .switch {
        width: 38px;
        height: 20px;
      }

      .slider:before {
        height: 16px;
        width: 16px;
      }

      .under-building-title {
        font-size: 1.07rem;
      }
    }
  </style>
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />
</head>

<body>
  <!-- Hamburger -->
  <button class="hamburger" id="hamburgerMenuBtn" aria-label="Open menu">
    <span class="hamburger-lines">
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
    </span>
  </button>
  <!-- Drawer menu -->
  <div class="menu-backdrop" id="menuBackdrop"></div>
  <nav class="side-drawer" id="sideDrawer" aria-label="Main menu" tabindex="-1">
    <div class="drawer-header">
      <div class="drawer-title">Menu</div>
      <button class="drawer-close" id="drawerCloseBtn" title="Close menu">&times;</button>
    </div>
    <div class="drawer-content">
      <!-- ===== Check Index: Separate Section with Border & Gap ===== -->
      <div class="drawer-section drawer-section--check-index drawer-toggles">
        <label class="drawer-toggle-label" for="checkIndexToggle">
          <span>
            Check Index
          </span>
          <span class="drawer-switch">
            <input type="checkbox" id="checkIndexToggle">
            <span class="drawer-slider"></span>
          </span>
        </label>
      </div>
      <!-- ===== G/B Search: Below with Gap ===== -->
      <div class="drawer-section drawer-section--search-toggles drawer-toggles">
        <label class="drawer-toggle-label" for="gSearchToggle">
          <span>
            <img src="https://www.google.com/favicon.ico" alt="Google Icon" class="drawer-icon" width="20"
              height="20" />
            G Search
          </span>
          <span class="drawer-switch">
            <input type="checkbox" id="gSearchToggle">
            <span class="drawer-slider"></span>
          </span>
        </label>
        <label class="drawer-toggle-label" for="bSearchToggle">
          <span>
            <img src="https://www.bing.com/favicon.ico" alt="Bing Icon" class="drawer-icon" width="20" height="20" />
            B Search
          </span>
          <span class="drawer-switch">
            <input type="checkbox" id="bSearchToggle">
            <span class="drawer-slider"></span>
          </span>
        </label>
      </div>
      <div class="drawer-section drawer-menu-items">
        <button class="drawer-menu-item" onclick="window.scrollTo(0,0)">Home</button>
        <button class="drawer-menu-item" onclick="alert('Yeh ek demo About hai!')">About</button>
        <button class="drawer-menu-item" onclick="alert('Contact: aapka-email@yahan.com')">Contact</button>
        <button class="drawer-menu-item" onclick="window.open('https://vercel.com/', '_blank')">Vercel</button>
      </div>
    </div>
  </nav>
  <div class="container">
    <div class="sticky-header">
      <h2>Meri Websites</h2>
      <div class="toggle-row">
        <label class="toggle-label" title="Agar ON hai to copy karte waqt site:[url] format me copy hoga.">
          <span class="toggle-text">Dev Mode</span>
          <span class="switch">
            <input type="checkbox" id="siteModeToggle">
            <span class="slider"></span>
          </span>
        </label>
      </div>
    </div>
    <ul class="site-list" id="siteList"></ul>
    <h2 class="under-building-title">Under Building</h2>
    <ul class="site-list" id="underBuildingList"></ul>
  </div>
  <div id="modalBackdrop" class="modal-backdrop"></div>
  <div id="modalImgBox" class="modal-img-box">
    <button class="modal-close" id="modalCloseBtn" title="Close">&times;</button>
    <img id="bigFavicon" class="big-favicon" src="" alt="Favicon" />
    <div class="modal-url" id="modalUrl"></div>
  </div>
  <script>
    // --- Drawer Menu Logic ---
    const hamburgerBtn = document.getElementById('hamburgerMenuBtn');
    const sideDrawer = document.getElementById('sideDrawer');
    const menuBackdrop = document.getElementById('menuBackdrop');
    const drawerCloseBtn = document.getElementById('drawerCloseBtn');
    function openDrawer() {
      sideDrawer.classList.add('active');
      menuBackdrop.classList.add('active');
      setTimeout(() => { sideDrawer.focus?.() }, 80);
      document.body.style.overflow = "hidden";
    }
    function closeDrawer() {
      sideDrawer.classList.remove('active');
      menuBackdrop.classList.remove('active');
      document.body.style.overflow = "";
    }
    hamburgerBtn.onclick = openDrawer;
    menuBackdrop.onclick = closeDrawer;
    drawerCloseBtn.onclick = closeDrawer;
    document.addEventListener('keydown', function (e) {
      if ((sideDrawer.classList.contains('active') || document.getElementById('modalImgBox').classList.contains('active')) && (e.key === "Escape" || e.key === "Esc")) closeDrawer();
    });

    // --- Toggle logic: only one ON at a time, both can be OFF ---
    const checkIndexToggle = document.getElementById('checkIndexToggle');
    checkIndexToggle.checked = false;
    const gSearchToggle = document.getElementById('gSearchToggle');
    const bSearchToggle = document.getElementById('bSearchToggle');
    gSearchToggle.checked = false;
    bSearchToggle.checked = false;

    function exclusiveToggle(e) {
      if (e.target.checked) {
        if (e.target === gSearchToggle) {
          bSearchToggle.checked = false;
        } else if (e.target === bSearchToggle) {
          gSearchToggle.checked = false;
        }
      }
    }
    gSearchToggle.addEventListener('change', exclusiveToggle);
    bSearchToggle.addEventListener('change', exclusiveToggle);

    // ---- Your working sites ----
    const websites = [
      "https://all-day-slimming-tea.vercel.app/",
      "https://alpha-xtra-boost.vercel.app/",
      "https://arterisplus.vercel.app/",
      "https://beliv-supports-healthy-blood-sugar.vercel.app/",
      "https://bioplspro.vercel.app/",
      "https://biorestore-complete.vercel.app/",
      "https://burnboost.vercel.app/",
      "https://buy-actiflow.vercel.app/",
      "https://buy-biofit.vercel.app/",
      "https://buy-cardio-shield.vercel.app/",
      "https://buy-fortiprime.vercel.app/",
      "https://buy-fungosem.vercel.app/",
      "https://buy-glucofort.vercel.app/",
      "https://buy-gorilla-flow.vercel.app/",
      "https://buy-metabofix.vercel.app/",
      "https://buy-metaboflex.vercel.app/",
      "https://buy-mycosyn.vercel.app/",
      "https://buy-ocusil.vercel.app/",
      "https://buy-prodentim.vercel.app/",
      "https://buy-redboost-supplement.vercel.app/",
      "https://buy-restolin.vercel.app/",
      "https://buy-slimcrystal.vercel.app/",
      "https://buy-sonofit.vercel.app/",
      "https://buy-visisoothe.vercel.app/",
      "https://buyneurorise.vercel.app/",
      "https://circadiyin.vercel.app/",
      "https://claritox-pro.vercel.app/",
      "https://cortexi.vercel.app/",
      "https://diabetes-solution-kit.vercel.app/",
      "https://divinlocks.vercel.app/",
      "https://endopump.vercel.app/",
      "https://fastleanpro.vercel.app/",
      "https://foliprime.vercel.app/",
      "https://get-cortexi.vercel.app/",
      "https://get-glucotrust.vercel.app/",
      "https://get-livpure.vercel.app/",
      "https://get-neurorise.vercel.app/",
      "https://get-prostadine.vercel.app/",
      "https://get-terracalm.vercel.app/",
      "https://glucotru.vercel.app/",
      "https://hairfortin.vercel.app/",
      "https://hydrossential.vercel.app/",
      "https://ikaria-lean-belly-juice.vercel.app/",
      "https://kerassentials.vercel.app/",
      "https://keravita-pro.vercel.app/",
      "https://leanbelly3x.vercel.app/",
      "https://metaboflex.vercel.app/",
      "https://metanail-complex.vercel.app/",
      "https://metanail-serum-pro.vercel.app/",
      "https://neurotonix.vercel.app/",
      "https://postastream.vercel.app/",
      "https://promind-complex.vercel.app/",
      "https://quietumplus.vercel.app/",
      "https://redboost-supplement.vercel.app/",
      "https://resurge-supplement.vercel.app/",
      "https://today-offer-exipure.netlify.app/",
      "https://tupitea.vercel.app/",
      "https://vivaslim.vercel.app/"
    ];

    const underBuildingSites = [
      "https://balmorex-pro.vercel.app/",
      "https://breathe-lungreset.vercel.app/",
      "https://buy-gluco6.vercel.app/",
      "https://buy-glucoextend.vercel.app/",
      "https://buy-igenics.vercel.app/",
      "https://buy-naganotonic.vercel.app/",
      "https://buy-primebiome.vercel.app/",
      "https://buy-provadent.vercel.app/",
      "https://get-femipro.vercel.app/",
      "https://get-nanodefense-pro.vercel.app/",
      "https://glucoberry.vercel.app/",
      "https://glucotonic.vercel.app/",
      "https://memorybreath.vercel.app/",
      "https://nervefresh.vercel.app/",
      "https://pinealxt.vercel.app/",
      "https://pro-nailcomplex.vercel.app/",
      "https://the-wealthsignal.vercel.app/",
      "https://yusleep.vercel.app/"
    ];


    const copiedUrls = new Map();
    let siteModeOn = false;
    const siteModeToggle = document.getElementById('siteModeToggle');
    siteModeToggle.addEventListener('change', function () {
      siteModeOn = siteModeToggle.checked;
    });

    document.addEventListener('DOMContentLoaded', () => {
      document.querySelectorAll('li.site-item, .site-url-box, .site-url').forEach(el => {
        el.addEventListener('copy', function (e) { e.preventDefault(); });
      });
    });

    function getFaviconUrl(siteUrl) {
      try {
        const url = new URL(siteUrl);
        return url.origin + "/icons/favicon.ico";
      } catch {
        return "";
      }
    }
    function getBigFaviconUrl(siteUrl) {
      try {
        const url = new URL(siteUrl);
        return url.origin + "/icons/favicon-512x512.png";
      } catch {
        return "";
      }
    }
    const DEFAULT_ICON = "data:image/svg+xml,%3Csvg width='128' height='128' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='128' height='128' fill='%23ddd'/%3E%3Ctext x='64' y='96' font-size='72' text-anchor='middle' fill='%23999'%3EðŸŒ%3C/text%3E%3C/svg%3E";

    function addSitesToList(sitesArray, siteListElem) {
      sitesArray.forEach(url => {
        const li = document.createElement('li');
        li.className = 'site-item';

        li.addEventListener('dblclick', function (e) {
          if (e.target.closest(".copy-btn")) return;
          window.open(url, '_blank');
        });

        const urlBox = document.createElement('div');
        urlBox.className = 'site-url-box';

        const favicon = document.createElement('img');
        favicon.className = 'site-favicon';
        favicon.src = getFaviconUrl(url);
        favicon.alt = "icon";
        favicon.loading = "lazy";
        favicon.onerror = function () {
          this.onerror = null;
          this.src = DEFAULT_ICON;
        };

        favicon.style.cursor = "pointer";
        favicon.title = "Bada image dekhne ke liye click karo";
        favicon.addEventListener('click', function (e) {
          e.preventDefault();
          showFaviconModal(getBigFaviconUrl(url), url);
        });

        const span = document.createElement('span');
        span.className = 'site-url';
        span.textContent = url;

        urlBox.appendChild(favicon);
        urlBox.appendChild(span);

        const btn = document.createElement('button');
        btn.className = 'copy-btn';
        btn.innerHTML = `<span class="material-symbols-outlined">content_copy</span>`;

        li.appendChild(urlBox);
        li.appendChild(btn);
        siteListElem.appendChild(li);
      });
    }

    addSitesToList(websites, document.getElementById('siteList'));
    addSitesToList(underBuildingSites, document.getElementById('underBuildingList'));

    const modalBackdrop = document.getElementById('modalBackdrop');
    const modalBox = document.getElementById('modalImgBox');
    const modalImg = document.getElementById('bigFavicon');
    const modalUrl = document.getElementById('modalUrl');
    const modalCloseBtn = document.getElementById('modalCloseBtn');

    function showFaviconModal(imgUrl, siteUrl) {
      modalImg.src = imgUrl;
      modalImg.onerror = function () { this.onerror = null; this.src = DEFAULT_ICON; }
      modalUrl.textContent = siteUrl;
      modalBackdrop.classList.add('active');
      modalBox.classList.add('active');
      setTimeout(() => { modalBox.focus?.(); }, 50);
    }
    function closeModal() {
      modalBackdrop.classList.remove('active');
      modalBox.classList.remove('active');
    }
    modalBackdrop.onclick = closeModal;
    modalCloseBtn.onclick = closeModal;
    document.addEventListener('keydown', function (e) {
      if (modalBox.classList.contains('active') && (e.key === "Escape" || e.key === "Esc")) closeModal();
    });

    // --------- BUTTON BEHAVIOR/ICON DYNAMIC WITH CHECK INDEX ---------
    function updateAllSiteButtons() {
      document.querySelectorAll('.site-item').forEach(function (li) {
        const btn = li.querySelector('.copy-btn');
        if (!btn) return;
        const url = li.querySelector('.site-url')?.textContent?.trim();
        if (!url) return;

        btn.onclick = null;

        function updateBtnIcon() {
          const iconSpan = btn.querySelector('.material-symbols-outlined');
          const gTog = document.getElementById('gSearchToggle');
          const bTog = document.getElementById('bSearchToggle');
          if (gTog?.checked || bTog?.checked) {
            iconSpan.textContent = "open_in_new";
            if (gTog?.checked) {
              btn.title = "Google Me Search Karo";
            } else if (bTog?.checked) {
              btn.title = "Bing Me Search Karo";
            }
          } else {
            iconSpan.textContent = "content_copy";
            btn.title = "Copy URL";
          }
        }

        btn.onclick = function (e) {
          const gTog = document.getElementById('gSearchToggle');
          const bTog = document.getElementById('bSearchToggle');
          const checkTog = document.getElementById('checkIndexToggle');

          // G/B Search ON hai
          if (gTog?.checked) {
            let searchQ = checkTog?.checked ? `site:${url}` : url;
            const googleUrl = `https://www.google.com/search?q=${encodeURIComponent(searchQ)}`;
            window.open(googleUrl, '_blank');
          } else if (bTog?.checked) {
            let searchQ = checkTog?.checked ? `site:${url}` : url;
            const bingUrl = `https://www.bing.com/search?q=${encodeURIComponent(searchQ)}`;
            window.open(bingUrl, '_blank');
          } else {
            // Copy
            let isDevMode = document.getElementById('siteModeToggle')?.checked;
            let copyText = isDevMode ? `site:${url}` : url;
            navigator.clipboard.writeText(copyText).then(() => {
              btn.classList.remove("copied", "dev-copied");
              if (isDevMode) {
                btn.classList.add("dev-copied");
                btn.title = "Copied as site:[url]!";
              } else {
                btn.classList.add("copied");
                btn.title = "Copied!";
              }
              const iconSpan = btn.querySelector('.material-symbols-outlined');
              iconSpan.textContent = 'done';
              setTimeout(() => {
                updateBtnIcon();
              }, 1200);
            });
          }
        };

        document.getElementById('gSearchToggle')?.addEventListener('change', updateBtnIcon);
        document.getElementById('bSearchToggle')?.addEventListener('change', updateBtnIcon);
        document.getElementById('checkIndexToggle')?.addEventListener('change', updateBtnIcon);

        updateBtnIcon();
      });
    }
    document.addEventListener('DOMContentLoaded', updateAllSiteButtons);
    window.updateAllSiteButtons = updateAllSiteButtons;
  </script>
</body>

</html>